{"ts":1371144147888,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"-- create schema socialIC;\n-- create schema social;\ndrop schema social;\ncreate schema social;\nuse social;\n\ncreate table `country`(\n\t`name` varchar(50) NOT NULL,\n\tprimary key(`name`)\n);\n\ncreate table `city`(\n\t`name` varchar(50) NOT NULL,\n\t`country` varchar(10) NOT NULL,\n\tforeign key(`country`)\n\t\treferences `country`(`name`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tprimary key(`name`)\n);\n\ncreate table `person`(\n\t`uri` varchar(50) NOT NULL,\n\t`name` varchar(50) NOT NULL,\n\t`hometown` varchar(50) NULL,\n\tforeign key(`hometown`)\n\t\treferences `city`(`name`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tprimary key(`uri`)\n);\n\ncreate table `know`(\n\t`person` varchar(50) NOT NULL,\n\t`colleague`  varchar(50) NOT NULL,\n\tforeign key(`person`)\n\t\treferences `person`(`uri`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tforeign key(`colleague`)\n\t\treferences `person`(`uri`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tprimary key(`person`, `colleague`)\n);\n\ncreate table `culturalAct`(\n\t`name` varchar(50) NOT NULL,\n\tprimary key(`name`)\n);\n\ncreate table `band`(\n\t`name` varchar(50) NOT NULL,\n\t`location` varchar(50) NULL,\n\tforeign key(`name`)\n\t\treferences `culturalAct`(`name`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tforeign key(`location`)\n\t\treferences `country`(`name`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tprimary key(`name`)\n);\n\ncreate table `similar`(\n\t`band` varchar(50) NOT NULL,\n\t`similar` varchar(50) NOT NULL,\n\tforeign key(`band`)\n\t\treferences `band`(`name`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tforeign key(`similar`)\n\t\treferences `band`(`name`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tprimary key(`band`,`similar`)\n);\ncreate table `movie`(\n\t`name` varchar(50) NOT NULL,\n\t`plot` varchar(500) NOT NULL,\n\t`IMDBrating` float NOT NULL,\n\t`IMDBvotes` int NOT NULL,\n\tforeign key(`name`)\n\t\treferences `culturalAct`(`name`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tprimary key(`name`)\n);\n\ncreate table `director`(\n\t`name` varchar(50) NOT NULL,\n\tprimary key(`name`)\n);\n\ncreate table `actor`(\n\t`name` varchar(50) NOT NULL,\n\tprimary key(`name`)\n);\n\ncreate table `category`(\n\t`name` varchar(50) NOT NULL,\n\tprimary key(`name`)\n);\n\ncreate table `musician`(\n\t`name` varchar(50) NOT NULL,\n\tprimary key(`name`)\n);\n\ncreate table `direct`(\n\t`director` varchar(50) NOT NULL,\n\t`movie` varchar(50) NOT NULL,\n\tforeign key(`director`)\n\t\treferences `director`(`name`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tforeign key(`movie`)\n\t\treferences `movie`(`name`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tprimary key(`director`, `movie`)\n);\n\ncreate table `act`(\n\t`actor` varchar(50) NOT NULL,\n\t`movie` varchar(50) NOT NULL,\n\tforeign key(`actor`)\n\t\treferences `actor`(`name`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tforeign key(`movie`)\n\t\treferences `movie`(`name`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tprimary key(`actor`, `movie`)\n);\n\ncreate table `style`(\n\t`category` varchar(50) NOT NULL,\n\t`culturalAct` varchar(50) NOT NULL,\n\tforeign key(`category`)\n\t\treferences `category`(`name`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tforeign key(`culturalAct`)\n\t\treferences `culturalAct`(`name`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tprimary key(`category`, `culturalAct`)\n);\n\ncreate table `participate`(\n\t`musician` varchar(50) NOT NULL,\n\t`band` varchar(50) NOT NULL,\n\tforeign key(`musician`)\n\t\treferences `musician`(`name`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tforeign key(`band`)\n\t\treferences `band`(`name`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tprimary key(`musician`, `band`)\n);\n\ncreate table `like`(\n\t`person` varchar(50) NOT NULL,\n\t`culturalAct` varchar(50) NOT NULL,\n\t`rating` int NOT NULL,\n\tforeign key(`person`)\n\t\treferences `person`(`uri`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tforeign key(`culturalAct`)\n\t\treferences `culturalAct`(`name`)\n\t\ton delete cascade\n\t\ton update cascade,\n\tprimary key(`person`, `culturalAct`)\n);"]],"start1":0,"start2":0,"length1":0,"length2":3829}]],"length":3829}
